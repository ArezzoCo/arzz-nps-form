{% comment %} <script type="importmap">
  {
    "imports": {
      "preact": "https://esm.sh/preact@10.23.1",
      "preact/": "https://esm.sh/preact@10.23.1/",
      "@preact/signals": "https://esm.sh/@preact/signals@1.3.0?external=preact",
      "htm/preact": "https://esm.sh/htm@3.1.1/preact?external=preact"
    }
  }
</script> {% endcomment %}

{{ 'form-style.css' |  asset_url |  stylesheet_tag }}

<section 
  id="preact-root"
  data-form-id="{{ block.settings.form_id }}"
  data-form-type="{{ block.settings.form_type }}"
  {% if customer %} 
    data-customer-id="{{ customer.id }}"
  {% endif %}
>
</section>

<script type="module" src="{{ 'preact-index.js' |  asset_url }}"></script>

{% schema  %} 
{
  "name": "Preact Form",
  "target": "section",
  "settings": [
    {
      "type": "select",
      "id": "form_type",
      "label": "Form Type",
      "options": [
        {
          "value": "nps",
          "label": "NPS Form"
        }
      ]
    },
    {
      "type": "number",
      "default": 1,
      "id": "form_id",
      "label": "Form ID"
    }
  ]
}
{% endschema %}